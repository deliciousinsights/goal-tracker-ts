<!DOCTYPE html><html lang="en"><head><title>main/GoalTrackerWidget</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="main/GoalTrackerWidget"><meta name="groc-project-path" content="src/main/GoalTrackerWidget.tsx"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path">src/main/GoalTrackerWidget.tsx</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="suivi-du-jour-pour-un-objectif">Suivi du jour pour un objectif</h1></div></div></div><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-keyword">import</span> Add from <span class="hljs-string">'@mui/icons-material/Add'</span>
<span class="hljs-keyword">import</span> Fab from <span class="hljs-string">'@mui/material/Fab'</span>
<span class="hljs-keyword">import</span> ThumbUp from <span class="hljs-string">'@mui/icons-material/ThumbUp'</span>
<span class="hljs-keyword">import</span> Typography from <span class="hljs-string">'@mui/material/Typography'</span>

<span class="hljs-keyword">import</span> classes from <span class="hljs-string">'./TrackerScreen.module.css'</span>
<span class="hljs-keyword">import</span> Gauge from <span class="hljs-string">'../shared/Gauge'</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { Goal } from <span class="hljs-string">'../reducers/goals'</span>

<span class="hljs-keyword">type</span> GTWProps = {
  goal: Goal
  progress: <span class="hljs-built_in">number</span>
  onProgress?: (goal: Goal) =&gt; <span class="hljs-built_in">void</span>
}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Section de l&#39;écran principal, dédiée à un objectif.  Fournit notamment le
descriptif de l&#39;objectif et l’éventuel bouton de progression.</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GoalTrackerWidget</span>(<span class="hljs-params">{</span></span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>La déstructuration en force !</p></div></div><div class="code"><div class="wrapper">  goal,
  goal: { name, units, target },
  onProgress,
  progress,
}: GTWProps) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>La beauté d&#39;un ternaire multi-lignes…</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">const</span> adderComponent =
    target &gt; progress ? (
      &lt;Fab
        color=<span class="hljs-string">'secondary'</span>
        size=<span class="hljs-string">'small'</span>
        aria-label={`Progresser sur ${name}`}
        onClick={() =&gt; onProgress?.(goal)}
      &gt;
        &lt;Add data-testid=<span class="hljs-string">'in-progress'</span> /&gt;
      &lt;<span class="hljs-regexp">/Fab&gt;
    ) : (
      &lt;Fab disabled size='small' aria-label='Objectif atteint, bravo !'&gt;
        &lt;ThumbUp data-testid='completed' /</span>&gt;
      &lt;<span class="hljs-regexp">/Fab&gt;
    )

  return (
    &lt;div className={classes.goal}&gt;
      &lt;div className={classes.summary}&gt;
        &lt;Typography variant='h6' component='h2'&gt;
          {name}
        &lt;/</span>Typography&gt;
        &lt;Gauge value={progress} max={target} /&gt;
        &lt;Typography component=<span class="hljs-string">'small'</span>&gt;
          {`${progress} ${units} sur ${target}`}
        &lt;<span class="hljs-regexp">/Typography&gt;
      &lt;/</span>div&gt;
      &lt;div className={classes.cta}&gt;{adderComponent}&lt;<span class="hljs-regexp">/div&gt;
    &lt;/</span>div&gt;
  )
}</div></div></div></div></body></html>