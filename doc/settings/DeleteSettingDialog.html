<!DOCTYPE html><html lang="en"><head><title>settings/DeleteSettingDialog</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="settings/DeleteSettingDialog"><meta name="groc-project-path" content="src/settings/DeleteSettingDialog.tsx"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path">src/settings/DeleteSettingDialog.tsx</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="suppression-de-paramtre">Suppression de paramètre</h1></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>C’est en fait une boîte de dialogue, inclue d’office dans le conteneur parent
(<code>SettingsScreen</code>), et qui va donc être initialement <em>rendered</em> sans objectif
(<code>goal</code>), puis verra ses propriétés mises à jour à chaque utilisation.</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">import</span> Button from <span class="hljs-string">'@mui/material/Button'</span>
<span class="hljs-keyword">import</span> Clear from <span class="hljs-string">'@mui/icons-material/Clear'</span>
<span class="hljs-keyword">import</span> Dialog from <span class="hljs-string">'@mui/material/Dialog'</span>
<span class="hljs-keyword">import</span> DialogActions from <span class="hljs-string">'@mui/material/DialogActions'</span>
<span class="hljs-keyword">import</span> DialogContent from <span class="hljs-string">'@mui/material/DialogContent'</span>
<span class="hljs-keyword">import</span> DialogContentText from <span class="hljs-string">'@mui/material/DialogContentText'</span>
<span class="hljs-keyword">import</span> DialogTitle from <span class="hljs-string">'@mui/material/DialogTitle'</span>
<span class="hljs-keyword">import</span> useMediaQuery from <span class="hljs-string">'@mui/material/useMediaQuery'</span>

<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { Goal } from <span class="hljs-string">'../reducers/goals'</span>

<span class="hljs-keyword">type</span> DSDProps = {
  goal: Goal | { name?: <span class="hljs-built_in">string</span> }
  onDelete: () =&gt; <span class="hljs-built_in">void</span>
  onCancel: () =&gt; <span class="hljs-built_in">void</span>
  onClosed?: () =&gt; <span class="hljs-built_in">void</span>
  open: <span class="hljs-built_in">boolean</span>
}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Il y a vraiment quelque chose de délicieux dans la déstructuration, surtout
pour un argument objet et en ajoutant des valeurs par défaut, comme ici…</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">DeleteSettingDialog</span>(<span class="hljs-params">{
  goal = {},
  onCancel,
  onClosed,
  onDelete,
  open,
}: DSDProps</span>) </span>{
  <span class="hljs-keyword">const</span> smallViewport = useMediaQuery(<span class="hljs-string">'(max-width: 480px)'</span>)
  <span class="hljs-keyword">return</span> (
    &lt;Dialog
      aria-labelledby=<span class="hljs-string">'deleteGoalTitle'</span>
      fullScreen={smallViewport}
      onClose={onCancel}
      open={open}
      TransitionProps={{
        onExited: onClosed,
      }}
    &gt;
      &lt;DialogTitle id=<span class="hljs-string">'deleteGoalTitle'</span>&gt;Supprimer un objectif&lt;<span class="hljs-regexp">/DialogTitle&gt;
      &lt;DialogContent&gt;
        &lt;DialogContentText&gt;
          Supprimer l’objectif {`« ${goal.name} » ?`}
        &lt;/</span>DialogContentText&gt;
      &lt;<span class="hljs-regexp">/DialogContent&gt;
      &lt;DialogActions&gt;
        &lt;Button color='secondary' onClick={onCancel}&gt;
          Ouh là, non !
        &lt;/</span>Button&gt;
        &lt;Button color=<span class="hljs-string">'primary'</span> onClick={onDelete} startIcon={&lt;Clear /&gt;}&gt;
          Adios !
        &lt;<span class="hljs-regexp">/Button&gt;
      &lt;/</span>DialogActions&gt;
    &lt;<span class="hljs-regexp">/Dialog&gt;
  )
}
</span></div></div></div></div></body></html>